(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderdetail"],{ad94:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"text-center px-md-5",staticStyle:{"padding-top":"100px"},attrs:{id:"OrderDetail"}},[e("p",{staticStyle:{"font-size":"2rem"}},[t._v("訂單明細")]),e("div",{staticClass:"container-fluid px-md-5"},[e("div",{staticClass:"row top w-100 mb-4 pb-3"},[e("div",{staticClass:"col-6 p-0 col-md-2 text-left"},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-center",modifiers:{"modal-center":!0}}]},[t._v("訂單詢問")]),e("b-modal",{attrs:{id:"modal-center",centered:"",title:"請填寫訂單編號與問題"}},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"askitem"}},[t._v("訂單編號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.askitem,expression:"askitem"}],staticClass:"form-control",attrs:{type:"askitem",id:"askitem"},domProps:{value:t.askitem},on:{input:function(s){s.target.composing||(t.askitem=s.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleFormControlTextarea1"}},[t._v("問題描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.askquestion,expression:"askquestion"}],staticClass:"form-control",attrs:{id:"exampleFormControlTextarea1",rows:"3"},domProps:{value:t.askquestion},on:{input:function(s){s.target.composing||(t.askquestion=s.target.value)}}})]),e("div",{staticClass:"btn btn-success float-right",on:{click:t.submit}},[t._v(" 送出 ")])])])],1),e("div",{staticClass:"col-0 col-md-8"}),e("div",{staticClass:"col-6 p-0 col-md-2 text-right"},[t.changelist?e("div",{staticClass:"btn btn-outline-secondary",on:{click:function(s){return t.liststatus()}}},[t._v(" 現在是新到舊 ")]):e("div",{staticClass:"btn btn-outline-secondary",on:{click:function(s){return t.liststatus()}}},[t._v(" 現在是舊到新 ")])])]),e("div",{staticClass:"row w-100 m-0"},[e("div",{staticClass:"w-100 p-2"},t._l(t.userorders,(function(s){return e("div",{key:s._id,staticClass:"orders_item"},[e("div",{staticClass:"row item_status d-flex p-3"},[e("div",{staticClass:"col-12 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[t._v(" 訂單編號: "+t._s(s.item)+" ")]),e("div",{staticClass:"col-6 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[t._v(" 總價: NT"+t._s(t._f("thousands")(s.total))+" ")]),e("div",{staticClass:"col-6 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[t._v(" 付款方式: "+t._s(s.payment)+" ")]),e("div",{staticClass:"col-6 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[t._v(" 付款狀態: "+t._s(s.pay)+" ")]),e("div",{staticClass:"col-6 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[t._v(" 出貨狀態: "+t._s(s.status)+" ")]),e("div",{staticClass:"col-12 col-md-2 my-3 m-md-0 text-left d-flex align-self-center"},[e("div",{staticClass:"btn btn-outline-secondary",on:{click:function(t){s.showoederdetail=!s.showoederdetail}}},[t._v(" 查看訂單細項 ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.showoederdetail,expression:"order.showoederdetail"}],staticClass:"user_item_connect row m-0 w-100 border-top bg-white"},[e("div",{staticClass:"col-12 col-md-8 p-1"},t._l(s.products,(function(s){return e("div",{key:s._id,staticClass:"d-flex flex-wrap border-bottom m-3 item_products",on:{click:function(e){return t.goDetail(s._id)}}},[e("div",{staticClass:"pic col-6 col-md-3"},[e("img",{attrs:{src:s.src,alt:""}})]),e("div",{staticClass:"name col-6 col-md-3"},[t._v(t._s(s.name))]),e("div",{staticClass:"quantity col-6 col-md-3"},[t._v(" X"+t._s(s.quantity)+" ")]),e("div",{staticClass:"price col-6 col-md-3"},[t._v(t._s(s.price))])])})),0),e("div",{staticClass:"col-12 col-md-4 border-left my-2"},[e("div",{staticClass:"item_connect d-flex flex-column justify-content-center align-items-start"},[e("div",{staticClass:"username my-1 mx-md-1 my-md-2"},[t._v(" 收件人: "+t._s(s.connect.userName)+" ")]),e("div",{staticClass:"userphone my-1 mx-md-1 my-md-2"},[t._v(" 連絡電話: "+t._s(s.connect.userPhone)+" ")]),e("div",{staticClass:"useremail my-1 mx-md-1 my-md-2"},[t._v(" 連絡信箱: "+t._s(s.connect.userEmail)+" ")]),e("div",{staticClass:"useraddress my-1 mx-md-1 my-md-2"},[t._v(" 收件地址: "+t._s(s.connect.userAddress)+" ")])])]),e("div",{staticClass:"user_ask_answer row m-0 w-100 border-top bg-white p-2"},[e("div",{staticClass:"col-12 col-md-2 left"},[e("p",{staticStyle:{"font-size":"1.3rem",background:"var(--brown2)",color:"white"}},[t._v(" 問答回覆 ")]),e("p",[t._v("回覆狀態")]),e("p",[t._v(t._s(s.askstatus))])]),e("div",{staticClass:"col-12 col-md-8"},t._l(s.ask,(function(s,a){return e("div",{key:a,staticClass:"ask text-left"},[t._v(" "+t._s(s)+" ")])})),0)])])])})),0)])])])},i=[],o=(e("7db0"),e("d81d"),e("a434"),{name:"OrderDetail",data:function(){return{userorders:[],changelist:!1,askitem:"",askquestion:""}},methods:{getorders:function(){var t=this;this.axios.get("https://lifepluss.herokuapp.com/orders/"+this.$store.state.user.account).then((function(s){t.userorders=s.data.result.map((function(t){return t.showoederdetail=!1,t}))}))},liststatus:function(){this.userorders=this.userorders.reverse(),this.changelist?this.changelist=!1:this.changelist=!0},goDetail:function(t){this.$router.push("/productdetail/".concat(t))},submit:function(){var t=this;this.axios.patch("https://lifepluss.herokuapp.com/orders/ask/"+this.askitem,{userask:this.askquestion,askstatus:"未回覆"}).then((function(s){t.userorders.find((function(e,a){e.item===s.data.result.item&&(s.data.result.showoederdetail=!1,t.userorders.splice(a,1,s.data.result))})),console.log(t.userorders)})),this.askitem="",this.askquestion="",this.$alert.success("新增問題成功")}},created:function(){this.getorders()}}),r=o,l=(e("ef03"),e("2877")),c=Object(l["a"])(r,a,i,!1,null,"74937de7",null);s["default"]=c.exports},b089:function(t,s,e){},d81d:function(t,s,e){"use strict";var a=e("23e7"),i=e("b727").map,o=e("1dde"),r=e("ae40"),l=o("map"),c=r("map");a({target:"Array",proto:!0,forced:!l||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ef03:function(t,s,e){"use strict";e("b089")}}]);
//# sourceMappingURL=orderdetail.83307ef3.js.map
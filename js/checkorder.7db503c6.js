(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["checkorder"],{"50a9":function(t,s,a){"use strict";a("9111")},"587d":function(t,s,a){},9111:function(t,s,a){},"9dbc":function(t,s,a){"use strict";a("587d")},a92a:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"checkorder"}},[a("Navbar",{staticStyle:{position:"absolute"}}),t.cart.totalAmount>0?a("div",{staticClass:"container-fliud"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-xl-8 mt-5 mx-auto"},[a("form-wizard",{staticClass:"mt-5",attrs:{title:"",subtitle:"",color:"var(--brown3)"},on:{"on-complete":t.submit},scopedSlots:t._u([{key:"footer",fn:function(s){return[a("div",{staticClass:"wizard-footer-left"},[s.activeTabIndex>0?a("wizard-button",{style:s.fillButtonStyle,nativeOn:{click:function(t){return s.prevTab()}}},[t._v("返回")]):t._e()],1),a("div",{staticClass:"wizard-footer-right"},[s.isLastStep?a("wizard-button",{staticClass:"wizard-footer-right finish-button",style:s.fillButtonStyle,nativeOn:{click:function(s){return t.submit(s)}}},[t._v(t._s(s.isLastStep?"確認送出":"下一步"))]):a("wizard-button",{staticClass:"wizard-footer-right",style:s.fillButtonStyle,nativeOn:{click:function(t){return s.nextTab()}}},[t._v("下一步")])],1)]}}],null,!1,1546896933)},[a("tab-content",{attrs:{title:t.steps[0]}},[a("div",{staticClass:"container cart mt-5 border"},t._l(t.cart.products,(function(s){return a("div",{key:s._id,staticClass:"row item p-3 border-bottom"},[a("div",{staticClass:"col-md-2",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.goDetail(s._id)}}},[a("img",{staticClass:"w-100",attrs:{src:s.src}})]),a("div",{staticClass:"col-md-10 d-flex flex-column justify-content-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 col-md-2 text-left"},[a("p",[t._v("商品")]),t._v(" "+t._s(s.name)+" ")]),a("div",{staticClass:"col-6 col-md-3"},[a("p",[t._v("單價")]),t._v(" NT"+t._s(t._f("thousands")(s.price))+" ")]),a("div",{staticClass:"col-6 col-md-3 mt-5 m-sm-0"},[a("p",[t._v("數量")]),a("b-form-spinbutton",{staticClass:"ml-2",attrs:{id:"sb-inline",inline:"",min:"1",max:"50"},on:{change:function(a){return t.updatequantity(s)}},model:{value:s.quantity,callback:function(a){t.$set(s,"quantity",a)},expression:"data.quantity"}})],1),a("div",{staticClass:"col-6 col-md-3 mt-5 m-sm-0"},[a("p",[t._v("小計")]),a("small",[t._v("NT ")]),t._v(" "+t._s(t._f("thousands")(s.price*s.quantity))+" ")]),a("div",{staticClass:"col-12 col-md-1 text-center mt-5 mb-3 m-md-0"},[a("button",{staticClass:"btn btn-remove",on:{click:function(a){return t.removeProduct(s)}}},[t._v(" X ")])])])])])})),0)]),a("tab-content",{attrs:{title:t.steps[1]}},[a("div",{staticClass:"container payment"},[a("div",{staticClass:"row"},[a("form",{staticClass:"row w-100 border-bottom mb-3 pb-5"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.connect.userName,expression:"connect.userName"}],staticClass:"form-control",attrs:{type:"text",id:"username",value:"connect.userName"},domProps:{value:t.connect.userName},on:{input:function(s){s.target.composing||t.$set(t.connect,"userName",s.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"userphone"}},[t._v("收件人電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.connect.userPhone,expression:"connect.userPhone"}],staticClass:"form-control",attrs:{type:"text",id:"userphone",value:"connect.userPhone"},domProps:{value:t.connect.userPhone},on:{input:function(s){s.target.composing||t.$set(t.connect,"userPhone",s.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("連絡信箱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.connect.userEmail,expression:"connect.userEmail"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1",value:"connect.userEmail"},domProps:{value:t.connect.userEmail},on:{input:function(s){s.target.composing||t.$set(t.connect,"userEmail",s.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"address"}},[t._v("收件地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.connect.userAddress,expression:"connect.userAddress"}],staticClass:"form-control",attrs:{type:"text",id:"address",value:"connect.userAddress"},domProps:{value:t.connect.userAddress},on:{input:function(s){s.target.composing||t.$set(t.connect,"userAddress",s.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"form-control form-control-sm",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.payment=s.target.multiple?a:a[0]}}},[a("option",[t._v("選擇付款方式")]),a("option",{attrs:{value:"貨到付款"}},[t._v("貨到付款")]),a("option",{attrs:{value:"ATM付款"}},[t._v("ATM付款")])])])])])])]),a("tab-content",{attrs:{title:t.steps[2]}},[a("div",{staticClass:"container"},[t._l(t.cart.products,(function(s){return a("div",{key:s._id,staticClass:"row item py-1 my-1 p-md-3 m-md-3 border-bottom d-flex justify-content-around align-items-center"},[a("div",{staticClass:"col-4 col-md-4"},[a("b-img",{attrs:{center:"",width:"80",src:s.src}})],1),a("div",{staticClass:"col-8"},[a("di",{staticClass:"row detail no-gutters"},[a("div",{staticClass:"col-8 col-md-4"},[t._v(t._s(s.name))]),a("div",{staticClass:"col-4 col-md-3"},[t._v("x"+t._s(s.quantity))]),a("div",{staticClass:"col-md-4"},[a("small",[t._v("NT ")]),t._v(" "+t._s(t._f("thousands")(s.price*s.quantity))+" ")]),a("div",{staticClass:"col-md-1"})])],1)])})),a("div",{staticClass:"row item"})],2)]),a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-end mt-4 cart-footer mb-4 m-sm-0"},[a("div",{staticClass:"col-md-2 text-center mb-4"},[t._v(" 共 "+t._s(t.cart.totalAmount)+" 件商品 ")]),a("div",{staticClass:"col-6 col-md-2 text-right"},[t._v("應付金額")]),a("div",{staticClass:"col-6 col-md-2 text-left"},[a("small",[t._v("NT ")]),t._v(" "+t._s(t._f("thousands")(t.cart.totalPrice))+" ")])])])],1)],1)])]):a("div",{staticClass:"container-fliud vh-100"},[a("div",{staticClass:"row h-100"},[a("h1",{staticClass:"col-12"},[t._v("你的購物車沒有商品喔")]),a("h1",[a("router-link",{attrs:{to:"/productlist"}},[t._v("可以從這裡去看看喔！")])],1)])])],1)},o=[],n=(a("b0c0"),a("5530")),i=a("c37e"),r=a("2f62"),c={components:{Navbar:i["a"]},name:"CheckOrder",computed:Object(n["a"])({},Object(r["b"])("cartModules",["cart"])),data:function(){return{steps:["確認商品","確認資料","送出訂單"],payment:"選擇付款方式",connect:{userName:"",userEmail:"",userAddress:"",userPhone:""},cartlist:{}}},methods:{goDetail:function(t){this.$router.push("/productdetail/".concat(t))},updatequantity:function(t){this.$store.dispatch("cartModules/updateProduct",t)},removeProduct:function(t){var s={_id:t._id};this.$alert.totasTopEnd(t.productName,"已移除該商品"),this.$store.dispatch("cartModules/removeProduct",s)},getuserdetail:function(){var t=this;this.axios.get("https://lifepluss.herokuapp.com/users/getuser/"+this.$store.state.user._id).then((function(s){t.connect.userName=s.data.result.name,t.connect.userEmail=s.data.result.email,t.connect.userAddress=s.data.result.address,t.connect.userPhone=s.data.result.phone}))},submit:function(){var t=this;this.cartlist=JSON.parse(localStorage.getItem("vuex")).cartModules.cart,"選擇付款方式"!==this.payment?""!==this.connect.userName&&""!==this.connect.userEmail&&""!==this.connect.userAddress&&""!==this.connect.userPhone&&"未填寫"!==this.connect.userAddress&&"未填寫"!==this.connect.userPhone?(this.axios.post("https://lifepluss.herokuapp.com/orders/",{item:Date.now(),account:this.$store.state.user.account,connect:this.connect,products:this.cartlist.products,total:this.cartlist.totalPrice,payment:this.payment,pay:"未付款",status:"未出貨",ask:[],askstatus:"無"}),this.$alert.success("已送出訂單"),this.$store.dispatch("cartModules/clearCart"),this.$router.push("/custom/orderdetail").then((function(t){})).catch((function(s){t.$swal({icon:"error",title:"錯誤",text:s})}))):this.$alert.error("資料未填寫完成"):this.$alert.error("未選擇付款方式")}},created:function(){this.getuserdetail()}},l=c,u=(a("9dbc"),a("2877")),d=Object(u["a"])(l,e,o,!1,null,"648d5ef1",null);s["default"]=d.exports},c37e:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"mainnav"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:a("fbae"),alt:""}})]),e("div",{staticClass:"navbar-new d-flex flex-sm-wrap justify-content-between flex-grow-1"},[e("div",{staticClass:"navbar-nav d-flex flex-row justify-content-between"},[e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("Home")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/products/all"}},[t._v("Products")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/share"}},[t._v("Share")])],1),e("div",{staticClass:"navbar-nav d-flex flex-row justify-content-between"},[e("div",{staticClass:"dropdown",attrs:{id:"faver"}},[e("li",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}}),t.favorLength>0?e("span",[t._v(t._s(t.favorLength))]):t._e()],1),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("table",{staticClass:"itemContent w-100"},[e("tbody",{staticClass:"d-flex justify-content-start align-items-center flex-column"},[0===t.favorLength?e("h3",{staticClass:"itemTitle"},[t._v(" 還沒有喜歡的商品嗎? ")]):e("h3",{staticClass:"itemTitle"},[t._v("MY FAVER")]),t._l(t.favorites,(function(s){return e("tr",{key:s._id,staticClass:"w-100 border-bottom py-2",on:{click:function(a){return t.goDetail(s._id)}}},[e("td",{staticClass:"text-center",attrs:{width:"15%"}},[e("i",{staticClass:"fas fa-cart-plus cartIcon",on:{click:function(a){return a.stopPropagation(),t.addProduct(s)}}})]),e("td",{staticClass:"itemPicture",attrs:{width:"20%"}},[e("div",{staticClass:"picturewrap"},[e("img",{attrs:{src:s.src1,alt:""}})])]),e("td",{staticClass:"itemName"},[e("p",{staticClass:"d-block"},[t._v(t._s(s.productName))])]),e("td",{staticClass:"itemDelete",attrs:{width:"10%"}},[e("div",{staticClass:"delfaver d-inline-block text-center",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),t.removeFavorItem(s)}}},[t._v(" X ")])])])}))],2)])])]),e("a",{staticClass:"nav-item nav-link",on:{click:function(s){return s.stopPropagation(),t.change(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","shopping-cart"],size:"lg"}}),t.cart.totalAmount>0?e("span",{staticClass:"cartamount"},[t._v(t._s(t.cart.totalAmount))]):t._e()],1),0===t.user.account.length?e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/login"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center",attrs:{id:"account"}},[t.user.account.length>0&&!1===t.user.right?e("a",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"account dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom"}},[e("font-awesome-icon",{attrs:{icon:["fas","archive"],size:"lg"}}),t._v(" 個人資料 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/orderdetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","pen-nib"],size:"lg"}}),t._v(" 訂單查詢 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/sharedetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","id-card"],size:"lg"}}),t._v(" 分享回饋 ")],1)],1)]),t.user.account.length>0&&!0===t.user.right?e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/admin"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),t.user.account.length>0?e("a",{staticClass:"nav-item nav-link",attrs:{id:"logout",href:"#"},on:{click:t.logout}},[t._v(" Logout ")]):t._e()],1),e("div",{staticClass:"nav-icon"},[e("i",{staticClass:"fas fa-bars mr-3",on:{click:function(s){t.shownew=!t.shownew}}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shownew,expression:"shownew"}],staticClass:"new_version_navbar"},[e("div",{staticClass:"new-navbar-nav d-flex flex-row justify-content-between"},[e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("Home")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/products/all"}},[t._v("Products")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/share"}},[t._v("Share")]),t.user.account.length>0?e("a",{staticClass:"nav-item nav-link",attrs:{id:"logout",href:"#"},on:{click:t.logout}},[t._v(" Logout ")]):t._e()],1),e("div",{staticClass:"new-navbar-nav d-flex flex-row justify-content-center mt-3"},[e("div",{staticClass:"dropdown",attrs:{id:"faver"}},[e("li",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}}),t.favorLength>0?e("span",[t._v(t._s(t.favorLength))]):t._e()],1),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("table",{staticClass:"itemContent w-100"},[e("tbody",{staticClass:"d-flex justify-content-start align-items-center flex-column"},[0===t.favorLength?e("h3",{staticClass:"itemTitle"},[t._v(" 還沒有喜歡的商品嗎? ")]):e("h3",{staticClass:"itemTitle"},[t._v("MY FAVER")]),t._l(t.favorites,(function(s){return e("tr",{key:s._id,staticClass:"w-100 border-bottom py-2",on:{click:function(a){return t.goDetail(s._id)}}},[e("td",{staticClass:"text-center",attrs:{width:"15%"}},[e("i",{staticClass:"fas fa-cart-plus cartIcon",on:{click:function(a){return a.stopPropagation(),t.addProduct(s)}}})]),e("td",{staticClass:"itemPicture",attrs:{width:"20%"}},[e("div",{staticClass:"picturewrap"},[e("img",{attrs:{src:s.src1,alt:""}})])]),e("td",{staticClass:"itemName"},[e("p",{staticClass:"d-block"},[t._v(t._s(s.productName))])]),e("td",{staticClass:"itemDelete",attrs:{width:"10%"}},[e("div",{staticClass:"delfaver d-inline-block text-center",staticStyle:{cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),t.removeFavorItem(s)}}},[t._v(" X ")])])])}))],2)])])]),e("a",{staticClass:"nav-item nav-link align-self-center",attrs:{id:"cart"},on:{click:function(s){return s.stopPropagation(),t.change(s)}}},[e("font-awesome-icon",{attrs:{icon:["fas","shopping-cart"],size:"lg"}}),t.cart.totalAmount>0?e("span",{staticClass:"cartamount"},[t._v(t._s(t.cart.totalAmount))]):t._e()],1),0===t.user.account.length?e("router-link",{staticClass:"nav-item nav-link align-self-center",attrs:{to:"/login"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center",attrs:{id:"account"}},[t.user.account.length>0&&!1===t.user.right?e("a",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"account dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom"}},[e("font-awesome-icon",{attrs:{icon:["fas","archive"],size:"lg"}}),t._v(" 個人資料 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/orderdetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","pen-nib"],size:"lg"}}),t._v(" 訂單查詢 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/sharedetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","id-card"],size:"lg"}}),t._v(" 分享回饋 ")],1)],1)]),t.user.account.length>0&&!0===t.user.right?e("router-link",{staticClass:"nav-item nav-link align-self-center",attrs:{to:"/admin"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e()],1)])],1)])},o=[],n=(a("c975"),a("5530")),i=a("2f62"),r={name:"Navbar",data:function(){return{shownew:!1}},computed:Object(n["a"])(Object(n["a"])({user:function(){return this.$store.state.user}},Object(i["b"])("favoritesModules",["favorites","favorLength"])),Object(i["b"])("cartModules",["cart"])),methods:{logout:function(){var t=this;this.axios.delete("https://lifepluss.herokuapp.com/users/logout").then((function(s){s.data.success?(t.$alert.success("登出成功"),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$alert.error(s.data.message)})).catch((function(s){t.$alert.error(s.response.data.message)}))},addProduct:function(t){var s={_id:t._id,name:t.productName,src:t.src1,price:t.price,quantity:1};this.$alert.totasTopEnd(t.productName+" x 1","已加入購物車",t.src1),this.$store.dispatch("cartModules/addProduct",s)},removeFavorItem:function(t){var s=this.favorites.indexOf(t);this.$store.commit("favoritesModules/REMOVEFAVORITEM",s)},goDetail:function(t){this.$router.push("/productdetail/".concat(t))},removeProduct:function(t){var s={_id:t._id};this.$alert.totasTopEnd(t.productName,"已移除購物車"),this.$store.dispatch("cartModules/removeProduct",s)},updateProduct:function(t){var s={_id:t._id,quantity:1};this.$alert.totasTopEnd(t.productName,"已更新購物車"),this.$store.dispatch("cartModules/updateProduct",s)},change:function(){this.$emit("change",!0)}}},c=r,l=(a("50a9"),a("2877")),u=Object(l["a"])(c,e,o,!1,null,"4c2bdbbf",null);s["a"]=u.exports}}]);
//# sourceMappingURL=checkorder.7db503c6.js.map
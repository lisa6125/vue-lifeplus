(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["share"],{"50a9":function(t,a,s){"use strict";s("9111")},"89e3":function(t,a,s){"use strict";s("c4cf")},9111:function(t,a,s){},c37e:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mainnav"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e("img",{staticClass:"logo",attrs:{src:s("fbae"),alt:""}})]),e("div",{staticClass:"navbar-new d-flex flex-sm-wrap justify-content-between flex-grow-1"},[e("div",{staticClass:"navbar-nav d-flex flex-row justify-content-between"},[e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("Home")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/products/all"}},[t._v("Products")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/share"}},[t._v("Share")])],1),e("div",{staticClass:"navbar-nav d-flex flex-row justify-content-between"},[e("div",{staticClass:"dropdown",attrs:{id:"faver"}},[e("li",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}}),t.favorLength>0?e("span",[t._v(t._s(t.favorLength))]):t._e()],1),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("table",{staticClass:"itemContent w-100"},[e("tbody",{staticClass:"d-flex justify-content-start align-items-center flex-column"},[0===t.favorLength?e("h3",{staticClass:"itemTitle"},[t._v(" 還沒有喜歡的商品嗎? ")]):e("h3",{staticClass:"itemTitle"},[t._v("MY FAVER")]),t._l(t.favorites,(function(a){return e("tr",{key:a._id,staticClass:"w-100 border-bottom py-2",on:{click:function(s){return t.goDetail(a._id)}}},[e("td",{staticClass:"text-center",attrs:{width:"15%"}},[e("i",{staticClass:"fas fa-cart-plus cartIcon",on:{click:function(s){return s.stopPropagation(),t.addProduct(a)}}})]),e("td",{staticClass:"itemPicture",attrs:{width:"20%"}},[e("div",{staticClass:"picturewrap"},[e("img",{attrs:{src:a.src1,alt:""}})])]),e("td",{staticClass:"itemName"},[e("p",{staticClass:"d-block"},[t._v(t._s(a.productName))])]),e("td",{staticClass:"itemDelete",attrs:{width:"10%"}},[e("div",{staticClass:"delfaver d-inline-block text-center",staticStyle:{cursor:"pointer"},on:{click:function(s){return s.stopPropagation(),t.removeFavorItem(a)}}},[t._v(" X ")])])])}))],2)])])]),e("a",{staticClass:"nav-item nav-link",on:{click:function(a){return a.stopPropagation(),t.change(a)}}},[e("font-awesome-icon",{attrs:{icon:["fas","shopping-cart"],size:"lg"}}),t.cart.totalAmount>0?e("span",{staticClass:"cartamount"},[t._v(t._s(t.cart.totalAmount))]):t._e()],1),0===t.user.account.length?e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/login"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center",attrs:{id:"account"}},[t.user.account.length>0&&!1===t.user.right?e("a",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"account dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom"}},[e("font-awesome-icon",{attrs:{icon:["fas","archive"],size:"lg"}}),t._v(" 個人資料 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/orderdetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","pen-nib"],size:"lg"}}),t._v(" 訂單查詢 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/sharedetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","id-card"],size:"lg"}}),t._v(" 分享回饋 ")],1)],1)]),t.user.account.length>0&&!0===t.user.right?e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/admin"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),t.user.account.length>0?e("a",{staticClass:"nav-item nav-link",attrs:{id:"logout",href:"#"},on:{click:t.logout}},[t._v(" Logout ")]):t._e()],1),e("div",{staticClass:"nav-icon"},[e("i",{staticClass:"fas fa-bars mr-3",on:{click:function(a){t.shownew=!t.shownew}}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shownew,expression:"shownew"}],staticClass:"new_version_navbar"},[e("div",{staticClass:"new-navbar-nav d-flex flex-row justify-content-between"},[e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("Home")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/products/all"}},[t._v("Products")]),e("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/share"}},[t._v("Share")]),t.user.account.length>0?e("a",{staticClass:"nav-item nav-link",attrs:{id:"logout",href:"#"},on:{click:t.logout}},[t._v(" Logout ")]):t._e()],1),e("div",{staticClass:"new-navbar-nav d-flex flex-row justify-content-center mt-3"},[e("div",{staticClass:"dropdown",attrs:{id:"faver"}},[e("li",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","heart"],size:"lg"}}),t.favorLength>0?e("span",[t._v(t._s(t.favorLength))]):t._e()],1),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("table",{staticClass:"itemContent w-100"},[e("tbody",{staticClass:"d-flex justify-content-start align-items-center flex-column"},[0===t.favorLength?e("h3",{staticClass:"itemTitle"},[t._v(" 還沒有喜歡的商品嗎? ")]):e("h3",{staticClass:"itemTitle"},[t._v("MY FAVER")]),t._l(t.favorites,(function(a){return e("tr",{key:a._id,staticClass:"w-100 border-bottom py-2",on:{click:function(s){return t.goDetail(a._id)}}},[e("td",{staticClass:"text-center",attrs:{width:"15%"}},[e("i",{staticClass:"fas fa-cart-plus cartIcon",on:{click:function(s){return s.stopPropagation(),t.addProduct(a)}}})]),e("td",{staticClass:"itemPicture",attrs:{width:"20%"}},[e("div",{staticClass:"picturewrap"},[e("img",{attrs:{src:a.src1,alt:""}})])]),e("td",{staticClass:"itemName"},[e("p",{staticClass:"d-block"},[t._v(t._s(a.productName))])]),e("td",{staticClass:"itemDelete",attrs:{width:"10%"}},[e("div",{staticClass:"delfaver d-inline-block text-center",staticStyle:{cursor:"pointer"},on:{click:function(s){return s.stopPropagation(),t.removeFavorItem(a)}}},[t._v(" X ")])])])}))],2)])])]),e("a",{staticClass:"nav-item nav-link align-self-center",attrs:{id:"cart"},on:{click:function(a){return a.stopPropagation(),t.change(a)}}},[e("font-awesome-icon",{attrs:{icon:["fas","shopping-cart"],size:"lg"}}),t.cart.totalAmount>0?e("span",{staticClass:"cartamount"},[t._v(t._s(t.cart.totalAmount))]):t._e()],1),0===t.user.account.length?e("router-link",{staticClass:"nav-item nav-link align-self-center",attrs:{to:"/login"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"dropdown d-flex flex-column justify-content-center align-items-center",attrs:{id:"account"}},[t.user.account.length>0&&!1===t.user.right?e("a",{staticClass:"dropdown-toggle nav-item nav-link",attrs:{role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e(),e("div",{staticClass:"account dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom"}},[e("font-awesome-icon",{attrs:{icon:["fas","archive"],size:"lg"}}),t._v(" 個人資料 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/orderdetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","pen-nib"],size:"lg"}}),t._v(" 訂單查詢 ")],1),e("router-link",{staticClass:"nav-link text-center m-2",attrs:{to:"/custom/sharedetail"}},[e("font-awesome-icon",{attrs:{icon:["fas","id-card"],size:"lg"}}),t._v(" 分享回饋 ")],1)],1)]),t.user.account.length>0&&!0===t.user.right?e("router-link",{staticClass:"nav-item nav-link align-self-center",attrs:{to:"/admin"}},[e("font-awesome-icon",{attrs:{icon:["fas","user"],size:"lg"}})],1):t._e()],1)])],1)])},i=[],n=(s("c975"),s("5530")),r=s("2f62"),o={name:"Navbar",data:function(){return{shownew:!1}},computed:Object(n["a"])(Object(n["a"])({user:function(){return this.$store.state.user}},Object(r["b"])("favoritesModules",["favorites","favorLength"])),Object(r["b"])("cartModules",["cart"])),methods:{logout:function(){var t=this;this.axios.delete("https://lifepluss.herokuapp.com/users/logout").then((function(a){a.data.success?(t.$alert.success("登出成功"),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):t.$alert.error(a.data.message)})).catch((function(a){t.$alert.error(a.response.data.message)}))},addProduct:function(t){var a={_id:t._id,name:t.productName,src:t.src1,price:t.price,quantity:1};this.$alert.totasTopEnd(t.productName+" x 1","已加入購物車",t.src1),this.$store.dispatch("cartModules/addProduct",a)},removeFavorItem:function(t){var a=this.favorites.indexOf(t);this.$store.commit("favoritesModules/REMOVEFAVORITEM",a)},goDetail:function(t){this.$router.push("/productdetail/".concat(t))},removeProduct:function(t){var a={_id:t._id};this.$alert.totasTopEnd(t.productName,"已移除購物車"),this.$store.dispatch("cartModules/removeProduct",a)},updateProduct:function(t){var a={_id:t._id,quantity:1};this.$alert.totasTopEnd(t.productName,"已更新購物車"),this.$store.dispatch("cartModules/updateProduct",a)},change:function(){this.$emit("change",!0)}}},c=o,l=(s("50a9"),s("2877")),d=Object(l["a"])(c,e,i,!1,null,"4c2bdbbf",null);a["a"]=d.exports},c4cf:function(t,a,s){},d81d:function(t,a,s){"use strict";var e=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),o=n("map"),c=r("map");e({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},fbd8:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fluid p-0",attrs:{id:"Share"}},[s("Navbar",{class:{nav_show:t.navshow,nav_close:t.navhide},on:{change:t.controlcart}}),s("div",{staticClass:"share-view"},[s("div",{staticClass:"share-title"},[t._v("Share your life")]),s("Photoswipe",[s("div",{directives:[{name:"masonry",rawName:"v-masonry",value:t.containerId,expression:"containerId"}],attrs:{"transition-duration":"0.3s","item-selector":".item"}},t._l(t.shares,(function(a,e){return s("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e,staticClass:"item"},[s("div",{staticClass:"post"},[s("p",[t._v(t._s(a.poster))]),s("img",{directives:[{name:"pswp",rawName:"v-pswp",value:a,expression:"item"}],attrs:{src:a.src,alt:""}})])])})),0)])],1),s("div",{staticClass:"cartddetail",class:{hidecartddetail:!t.showcart}},[s("table",{staticClass:"mt-5 p-3 w-100"},[t._m(0),t._l(t.cart.products,(function(a){return s("tr",{key:a._id,staticClass:"border-bottom w-100 p-2",on:{click:function(s){return t.goDetail(a._id)}}},[s("td",{staticClass:"text-center p-3",staticStyle:{width:"30%"}},[s("img",{staticClass:"w-100",attrs:{src:a.src}})]),s("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[t._v(t._s(a.name))]),s("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[t._v(" NT "+t._s(t._f("thousands")(a.price))+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v(t._s(a.quantity))]),s("td",{staticClass:"text-center",staticStyle:{width:"5%"}},[s("i",{staticClass:"fas fa-times",on:{click:function(s){return s.stopPropagation(),t.removeProduct(a)}}})])])})),s("tr",[s("td",{staticClass:"px-5 py-2 text-right",attrs:{colspan:"5"}},[t._v(" 總價: "+t._s(t._f("thousands")(t.cart.totalPrice))+" ")])]),s("tr",[s("td",{staticClass:"p-5",attrs:{colspan:"5"}},[s("b-btn",{staticClass:"m-1 w-100",on:{click:t.goCheack}},[t._v("訂單結帳")])],1)])],2)]),s("div",{staticClass:"mask",class:{hidemask:!t.showcart},on:{click:function(a){t.showcart=!1}}}),s("Footer")],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",{staticClass:"border-bottom w-100"},[s("td",{staticStyle:{width:"30%"}}),s("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[t._v("商品")]),s("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[t._v("售價")]),s("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("數量")]),s("td",{staticClass:"text-center",staticStyle:{width:"5%"}})])}],n=(s("4de4"),s("d81d"),s("5530")),r=s("2f62"),o=s("c37e"),c=s("b6a5"),l={components:{Footer:c["a"],Navbar:o["a"]},name:"Share",data:function(){return{navshow:!0,navhide:!1,lastScrollTop:0,showcart:!1,shares:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(r["b"])("favoritesModules",["favorites"])),Object(r["b"])("cartModules",["cart"])),methods:{controlcart:function(t){this.showcart=t},goDetail:function(t){this.$router.push("/productdetail/".concat(t))},goCheack:function(){this.$store.state.user.account.length>0?this.$router.push("/checkorder"):(this.$alert.warning("請先登入後結帳"),this.$router.push("/login"))},addFaver:function(t){this.$alert.totasTopEnd(t.productName,"已加入最愛",t.src1)},setliked:function(t){var a=this.favorites.filter((function(a){return a._id===t._id}));return a.length>0},changeFavorite:function(t){this.$store.dispatch("favoritesModules/changeFavorite",t);var a=this.favorites.filter((function(a){return a._id===t._id}));a.length>0?this.$alert.totasTopEnd(t.productName+" x 1","已加入購物車",t.src1):this.$alert.totasTopEnd(t.productName,"已移除最愛")},nav:function(){var t=window.pageYOffset||document.documentElement.scrollTop;t>this.lastScrollTop?(this.navshow=!1,this.navhide=!0):(this.navshow=!0,this.navhide=!1),this.lastScrollTop=t},addProduct:function(t){var a={_id:t._id,name:t.productName,src:t.src1,price:t.price,quantity:1};this.$alert.totasTopEnd(t.productName+" x 1","已加入購物車",t.src1),this.$store.dispatch("cartModules/addProduct",a)},removeProduct:function(t){var a={_id:t._id};this.$alert.totasTopEnd(t.productName,"已移除購物車"),this.$store.dispatch("cartModules/removeProduct",a)},updateProduct:function(t){var a={_id:t._id,quantity:1};this.$alert.totasTopEnd(t.productName,"已更新購物車"),this.$store.dispatch("cartModules/updateProduct",a)},getshares:function(){var t=this;this.axios.get("https://lifepluss.herokuapp.com/shares/").then((function(a){var s=a.data.result.filter((function(t){return"審核通過"===t.onshare}));t.shares=s.map((function(t){return t.src="https://lifepluss.herokuapp.com/shares/images/"+t.images[0].file,t}))}))}},created:function(){this.getshares()},mounted:function(){window.addEventListener("scroll",this.nav)},destroyed:function(){window.removeEventListener("scroll",this.nav)}},d=l,u=(s("89e3"),s("2877")),v=Object(u["a"])(d,e,i,!1,null,"6be8c61c",null);a["default"]=v.exports}}]);
//# sourceMappingURL=share.880e0e09.js.map